<template>
	<div class="user">
		<div class="thumbnail">
			<svg width="1180" height="128" viewBox="0 0 1180 128" fill="none" xmlns="http://www.w3.org/2000/svg">
				<g clip-path="url(#clip0_319_11710)">
					<rect width="1180" height="128" fill="#F0F4F9" />
					<g clip-path="url(#clip1_319_11710)">
						<path
							fill-rule="evenodd"
							clip-rule="evenodd"
							d="M302.75 49.8244C297.344 50.5609 291.949 51.3688 286.756 52.791C285.628 53.1011 284.442 53.3043 283.265 53.4862C271.579 55.2994 259.878 57.0494 248.207 58.9141C240.466 60.1529 232.725 61.3577 224.855 62.0191C220.174 62.4124 215.689 63.3824 211.202 64.4378C208.352 65.1072 205.509 66.2863 202.281 65.2383C201.568 65.007 200.475 65.3642 199.589 65.541C195.57 66.3379 191.539 67.1068 187.559 68.0053C183.97 68.8147 180.453 68.8323 176.902 67.9449C175.885 67.6908 174.818 67.5582 173.789 67.3306C172.635 67.0736 171.381 66.9212 170.374 66.4638C167.524 65.1683 164.479 64.1734 161.689 62.7519C156.13 59.9187 150.279 57.4161 144.549 54.7773C143.747 54.4069 142.933 54.0489 142.159 53.6468C141.211 53.1548 140.231 52.9928 139.118 53.2704C138.483 53.4281 137.813 53.5032 137.166 53.635C86.3115 63.9995 35.4588 74.3685 -15.3967 84.7323C-33.1246 88.3447 -164.431 157.393 -182.16 161L-68.5852 253.842H963.915L1187.75 123.421C1185.88 123.372 960.17 83.9111 958.312 83.7829C953.24 83.4302 948.173 83.0155 943.106 82.6244C937.239 82.1715 931.371 81.7171 925.503 81.2642C915.901 80.5218 906.299 79.7757 896.698 79.0371C890.297 78.5443 883.892 78.0649 877.49 77.5729C868.021 76.8445 858.554 76.1058 849.085 75.3797C842.683 74.8884 836.277 74.4178 829.876 73.9273C820.273 73.1908 810.674 72.4381 801.07 71.7024C792.134 71.0175 783.195 70.351 774.259 69.666C764.524 68.92 754.789 68.1658 745.054 67.4087C738.388 66.8902 731.718 66.3843 725.055 65.8326C719.728 65.39 714.412 64.8619 709.085 64.4164C702.156 63.8382 695.221 63.3021 688.289 62.7505C683.889 62.3999 679.483 62.0839 675.091 61.6848C673.138 61.508 671.423 61.7452 669.735 62.5531C668.386 63.1982 666.873 63.66 665.389 64.1188C662.039 65.1573 658.652 66.1235 655.297 67.1531C644.737 70.3944 634.194 73.6696 623.622 76.8895C621.026 77.6804 618.249 78.1422 615.957 79.6063C614.756 78.9995 613.663 78.4309 612.55 77.8859C609.102 76.2008 605.485 75.2515 601.221 75.3539C585.942 75.7229 570.656 75.8974 555.371 76.125C553.771 76.1493 552.127 76.1876 550.568 75.963C544.645 75.1079 538.726 74.2241 532.851 73.1975C529.145 72.5486 525.772 71.3548 523.727 68.671C523.34 68.1666 522.726 67.7615 522.157 67.2562C520.953 67.5523 519.873 67.8189 518.667 68.1165C517.924 66.7753 517.274 65.5999 516.523 64.2448C515.759 64.6381 515.227 64.9002 514.711 65.1794C514.103 65.5071 513.51 65.8496 512.764 66.2671C512.285 64.683 511.876 63.333 511.453 61.9359C509.272 62.2099 509.361 64.0503 507.539 64.736C507.078 63.4913 506.579 62.4433 506.316 61.3629C506.076 60.3694 506.096 59.3413 505.988 58.3286C505.875 57.2732 506.468 56.1405 505.431 54.9386C504.74 55.2715 503.994 55.4305 503.741 55.7907C502.798 57.1303 501.889 58.5002 501.21 59.926C500.438 61.5433 499.924 63.2321 499.243 65.0379C496.32 64.4333 496.627 66.8939 494.988 67.5744C494.274 67.1495 493.593 66.7437 492.71 66.2185C492.109 67.3888 491.635 68.308 491.168 69.2197C489.985 69.0629 488.982 68.9303 488 68.8006C487.595 69.5916 487.27 70.2265 486.998 70.7589C486.533 70.8775 486.288 70.9733 486.029 71.002C471.708 72.6009 457.426 74.4038 443.033 75.6146C441.113 75.7766 439.321 75.7243 437.488 75.3443C431.93 74.1902 426.374 73.031 420.797 71.9322C411.201 70.0409 401.648 67.9898 391.967 66.3894C383.462 64.9835 374.919 63.7447 366.456 62.1539C354.87 59.9769 343.392 57.5472 331.982 54.9069C323.904 53.0377 315.822 51.1803 307.501 50.0285C306.412 49.8782 305.264 49.7368 304.15 49.7368C303.675 49.7368 303.205 49.7626 302.75 49.8244Z"
							fill="#E4EAF1"
						/>
						<path
							fill-rule="evenodd"
							clip-rule="evenodd"
							d="M607.808 42.9984C607.292 44.7582 607.193 49.2606 607.193 49.2606L609.72 48.3592C609.72 48.3592 607.687 55.2597 608.024 58.5312C609.881 57.8249 611.28 57.4969 611.28 57.4969C611.012 60.2645 611.235 63.9711 611.961 66.9862C607.651 68.305 603.453 69.5891 599.123 70.913C594.927 68.8938 591.867 65.9386 589.483 62.871C587.673 66.2659 587.63 71.1893 588.19 74.2074C587.425 74.5384 586.759 74.8553 586.061 75.1243C583.669 76.0456 581.213 76.8789 578.888 77.8874C577.374 78.5435 575.879 78.6949 574.26 78.3964C572.959 78.1556 571.688 77.8217 570.386 77.583C568.564 77.2498 566.734 76.9307 564.894 76.6713C563.254 76.4416 555.606 79.3784 553.219 80.3056C552.295 80.6646 540.857 81.4773 536.17 81.6583C534.16 81.7359 523.609 80.3152 520.308 79.883C517.63 79.5335 505.516 81.232 502.094 81.7263C492.616 83.0968 483.118 84.3919 473.647 85.7935C462.997 87.3694 452.509 89.5215 441.8 90.9186C436.932 91.5525 432.199 92.7841 427.405 93.7497C425.204 94.1923 382.083 103.181 380.518 103.447C375.024 104.377 369.503 105.212 364.015 106.164C361.992 106.514 360.049 106.437 358.072 106.09C351.012 104.85 344.059 103.334 337.245 101.457C336.521 101.258 335.856 100.932 335.134 100.655C335.16 98.3836 335.569 95.4128 333.852 92.9821C332.967 93.7424 329.751 98.1095 328.195 99.2199C324.711 99.5383 316.739 99.8457 314.977 99.4593C313.418 96.7523 314.171 94.2935 314.171 94.2935L317.505 94.8683C316.859 90.8521 318.558 88.0609 318.558 88.0609L320.946 88.4754C320.946 88.4754 321.484 81.1818 327.466 73.8631C314.601 78.0677 309.386 83.9242 309.386 83.9242L311.374 84.7872C304.707 88.1473 302.174 91.1255 302.174 91.1255C302.174 91.1255 304.217 91.7587 305.03 92.1635C303.057 94.0342 301.467 94.043 299.022 93.9596C297.716 90.1148 298.254 87.41 299.674 82.3935C292.553 86.9179 289.311 90.6674 286.766 93.2725C285.598 92.4694 283.879 89.5599 282.658 88.7214C281.441 90.253 280.615 93.7202 280.392 95.5325C278.987 95.1262 277.614 94.7545 276.267 94.3349C273.29 93.4062 270.339 92.4325 267.355 91.5149C263.338 90.2796 259.188 89.5341 254.815 89.7572C252.085 89.8976 249.495 89.5097 246.965 88.7288C243.841 87.7646 240.617 87.1359 237.204 87.1233C234.212 87.1122 231.395 86.4503 228.638 85.6029C227.528 85.2615 226.385 84.932 225.215 84.7562C217.985 83.6672 210.73 82.6757 203.514 81.5364C201.224 81.1736 199.036 81.048 196.786 81.5556C196.15 81.6997 195.461 81.7048 194.804 81.8002C168.607 85.594 142.415 89.4062 116.216 93.1823C88.5654 97.169 60.9051 101.105 33.2565 105.092C1.39597 109.687 -30.4567 114.32 -62.3172 118.917C-65.8659 119.429 -187.446 162.765 -191.012 163.211C-191.012 203.07 -191.012 219.14 -191.012 259H1202.13V87.6842C1199.91 99.1682 1043.19 119.099 947.319 100.211C892.32 89.3751 845.333 80.3514 790.321 69.5484C788.516 69.1938 786.646 68.9684 784.788 68.8458C781.049 68.5983 777.298 68.4528 773.549 68.2828C758.29 67.5884 743.031 66.9064 727.771 66.2031C726.462 66.1432 725.082 66.2881 723.715 65.5832C723.092 63.8019 723.04 61.8647 722.845 59.9416C722.65 58.0059 722.383 56.0754 722.152 54.1419C721.909 52.1072 721.705 50.0696 721.428 48.0371C721.17 46.1406 721.425 44.1864 720.457 41.95C719.399 42.8772 718.598 43.5097 717.898 44.2027C713.478 48.5727 701.695 59.8375 701.447 59.9017C701.641 58.6879 701.635 57.4518 700.978 55.3255C700.402 55.7636 697.859 57.7023 696.403 58.9841C696.464 58.2217 697.416 47.6869 697.033 43.5976C696.976 42.991 696.94 42.9873 696.768 42.3948C696.595 41.7971 681.565 55.7171 680.972 56.2675L684.308 56.2919C682.422 58.8474 674.922 65.2101 672.682 66.1455C672.153 63.8071 670.863 62.2918 669.646 61.4769C666.507 64.4225 665.047 65.2611 665.047 65.2611C664.54 62.3494 664.209 59.5737 663.712 57.245L666.367 57.2102C666.583 52.4804 665.492 47.231 664.518 43.6877C661.937 48.5232 651.807 56.2165 651.807 56.2165L654.623 56.7603C652.581 58.9243 648.979 61.3941 646.094 63.0003C644.512 61.7997 642.416 58.6857 641.448 56.8002C640.375 57.7976 639.717 59.9756 639.647 61.7074C637.766 60.1514 634.134 56.3503 631.631 51.1379C629.776 53.1571 627.789 57.0048 626.789 59.8308C625.19 58.7145 622.381 55.3336 622.411 55.1615C623.595 54.7936 626.082 54.2705 626.082 54.2705C623.111 52.3754 619.077 48.9747 618.324 47.2939H621.229C621.229 47.2939 614.561 41.4757 612.073 35C609.774 37.5282 608.622 40.219 607.808 42.9984Z"
							fill="#0B081A"
						/>
						<path
							fill-rule="evenodd"
							clip-rule="evenodd"
							d="M401.186 79.1454C401.005 79.0998 400.854 79.0542 400.718 78.9935C400.618 78.9485 400.534 78.8953 400.461 78.8338C400.412 78.7929 400.391 78.7285 400.397 78.6648C400.47 77.9016 400.39 77.2284 400.462 76.4715C400.764 73.4025 402.679 74.3748 404.399 73.8735C405.386 73.5933 406.374 73.0419 406.734 71.9573C406.794 71.7798 406.742 71.5867 406.619 71.4461C405.492 70.1561 404.245 69.0163 402.89 68.0394C398.348 64.782 392.445 63.4293 387.023 64.2205C386.818 64.2505 386.71 64.4797 386.822 64.6555C387.509 65.7317 388.415 66.6125 389.454 67.2607C389.643 67.3785 389.567 67.633 389.35 67.5841C388.841 67.469 388.186 67.2447 387.57 66.8071C387.511 66.7649 387.435 66.7543 387.367 66.7814C387.092 66.8919 386.694 67.0513 386.366 67.1941C386.177 67.2763 386.139 67.5219 386.294 67.6578C389.017 70.0352 392.978 70.3966 396.08 68.4941C396.269 68.3782 396.572 68.6163 396.511 68.8306C396.413 69.1738 396.3 69.6455 396.178 70.288C395.409 74.2077 393.192 73.9039 390.447 72.9163C384.961 70.9138 381.849 72.6239 379.082 69.2387C378.89 69.0035 378.552 68.922 378.324 69.1214C377.752 69.6195 377.414 70.3465 377.414 71.1236C377.414 72.044 377.886 72.8324 378.585 73.3044C378.673 73.3634 378.789 73.3385 378.854 73.2553C379.025 73.0381 379.164 72.8941 379.337 72.803C379.527 72.7034 379.62 72.9771 379.46 73.1201C378.872 73.6441 378.703 74.2684 378.319 75.4991C377.716 77.4286 377.972 79.4037 375.152 79.9202C373.659 79.9962 373.689 81.0141 373.146 82.5334C372.516 84.3671 371.69 85.1793 370.163 86.7818C369.954 87.0009 369.936 87.3514 370.166 87.5484C370.776 88.0721 371.405 88.1009 372.045 87.8357C373.628 87.1672 374.85 85.101 375.997 83.764C377.279 82.2751 380.356 82.9132 382.679 81.4547C383.931 80.6809 384.684 79.6926 384.443 78.2121C384.405 77.9737 384.675 77.8303 384.774 78.0508C384.96 78.4693 385.082 78.9157 385.133 79.377C385.147 79.4979 385.254 79.5874 385.374 79.5806C387.888 79.4382 391.138 82.2303 394.175 82.9857C394.359 83.0317 394.491 82.8168 394.386 82.6565C394.194 82.3618 394.031 82.0559 393.901 81.7434C393.766 81.4187 393.665 81.1036 393.593 80.7995C393.536 80.5617 393.881 80.4978 393.999 80.7116C394.778 82.1258 396.335 83.4538 398.501 83.6121C399.24 83.6728 400.055 83.5817 400.899 83.3234C401.91 83.0196 402.845 82.6245 403.961 82.8372C404.791 82.9892 405.56 83.4146 406.043 84.1286C406.72 85.1235 408.15 85.3871 408.912 84.3473C409.016 84.2058 409.024 84.0167 408.956 83.8549C407.278 79.8935 403.017 79.6214 401.186 79.1454Z"
							fill="#0B081A"
							@click="bunnyGame"
						/>
					</g>
				</g>
				<defs>
					<clipPath id="clip0_319_11710">
						<rect width="1180" height="128" fill="white" />
					</clipPath>
					<clipPath id="clip1_319_11710">
						<rect width="1180" height="224" fill="white" transform="translate(0 35)" />
					</clipPath>
				</defs>
			</svg>
		</div>
		<div class="profile">
			<div class="avatar">
				<img v-if="user?.avatar?.filename_disk" :src="'/market/assets/' + user.avatar.filename_disk" />
				<svg v-else width="40" height="25" viewBox="0 0 40 25" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path
						fill-rule="evenodd"
						clip-rule="evenodd"
						d="M31.9857 15.422C31.8 15.3756 31.6453 15.3292 31.5061 15.2673C31.4032 15.2215 31.3172 15.1673 31.2418 15.1047C31.1917 15.0631 31.1702 14.9975 31.1765 14.9327C31.2511 14.1555 31.169 13.4699 31.2431 12.6992C31.5525 9.57422 33.5172 10.5643 35.2808 10.0538C36.2936 9.76852 37.3063 9.20706 37.6764 8.10265C37.7369 7.92185 37.6836 7.72529 37.5577 7.58211C36.4024 6.26855 35.1234 5.1079 33.7338 4.11321C29.075 0.796237 23.0202 -0.581126 17.4598 0.224572C17.2492 0.255094 17.1388 0.488447 17.2538 0.667506C17.9581 1.76337 18.8871 2.66019 19.9526 3.32029C20.1462 3.44025 20.0684 3.69938 19.8462 3.64954C19.3236 3.53239 18.6523 3.30391 18.0208 2.85834C17.96 2.81539 17.8816 2.80458 17.8124 2.83217C17.5302 2.94473 17.1225 3.10705 16.7857 3.25246C16.5918 3.33617 16.5523 3.58624 16.7119 3.72458C19.5047 6.14542 23.5676 6.51344 26.749 4.57616C26.9428 4.45815 27.2531 4.70066 27.1907 4.91881C27.0907 5.26826 26.9739 5.74862 26.8495 6.40281C26.0606 10.3941 23.7864 10.0847 20.9708 9.07917C15.3448 7.0401 12.153 8.78136 9.31532 5.33442C9.11815 5.09491 8.77153 5.01188 8.53699 5.21494C7.95121 5.72211 7.60451 6.4624 7.60451 7.25368C7.60451 8.1909 8.08831 8.99374 8.80539 9.4743C8.89509 9.53441 9.01428 9.50901 9.08122 9.42429C9.25596 9.20313 9.3989 9.05653 9.5769 8.96381C9.77172 8.86234 9.86673 9.14102 9.70226 9.28664C9.09957 9.82027 8.92658 10.456 8.53273 11.7091C7.91392 13.6738 8.17691 15.685 5.28397 16.211C3.75241 16.2883 3.78335 17.3248 3.22642 18.8719C2.58007 20.7391 1.73369 21.5661 0.167263 23.1978C-0.0469743 23.421 -0.0653456 23.7778 0.170099 23.9785C0.795807 24.5118 1.4411 24.5411 2.09709 24.271C3.72147 23.5903 4.97456 21.4863 6.1503 20.125C7.46528 18.6089 10.6212 19.2586 13.0036 17.7735C14.2885 16.9856 15.0605 15.9792 14.8136 14.4717C14.7739 14.2289 15.0517 14.0829 15.1525 14.3074C15.3438 14.7336 15.4692 15.1881 15.5213 15.6578C15.535 15.781 15.645 15.8721 15.7687 15.8651C18.3463 15.7202 21.6795 18.5632 24.7946 19.3324C24.984 19.3792 25.1187 19.1604 25.0116 18.9973C24.8145 18.6971 24.647 18.3857 24.5135 18.0674C24.3758 17.7368 24.2714 17.416 24.1975 17.1063C24.1398 16.8642 24.4936 16.7991 24.6144 17.0168C25.4133 18.4568 27.0099 19.8091 29.232 19.9702C29.99 20.0321 30.8254 19.9393 31.6917 19.6763C32.7282 19.3669 33.6874 18.9647 34.8322 19.1813C35.6831 19.336 36.472 19.7691 36.9671 20.4962C37.6618 21.5093 39.1281 21.7777 39.9097 20.7189C40.0161 20.5749 40.025 20.3822 39.9547 20.2175C38.2338 16.1838 33.8639 15.9067 31.9857 15.422Z"
						fill="white"
					/>
				</svg>
			</div>
			<div v-if="user" class="info">
				<div class="name">{{ user.name }}</div>
				<div class="email">
					{{ user.email }}
					<a v-if="user.url" class="url" :href="user.url"><v-icon name="language" /></a>
				</div>
			</div>
			<div class="spacer"></div>
			<div v-if="user" class="banners">
				<div v-if="user.trusted" class="verified">
					<v-icon name="verified_user" />
					Verified Contributor
				</div>
				<div v-if="user.core_contributor" class="core-contributor">
					<v-icon name="favorite_outline" />
					Directus Core Contributor
				</div>
			</div>
		</div>
		<div v-if="user?.readme" class="markdown" v-html="markdown"></div>
		<div class="extensions-title">Extensions by the Author</div>
		<ExtensionList
			v-if="user"
			type="all"
			:query="{ filter: { author: { _eq: user.id } } }"
			:app="app"
			:existing-extensions="existingExtensions"
		/>
	</div>
</template>

<script setup lang="ts">
import { inject, ref, watch, computed } from 'vue';
import type { AxiosInstance } from 'axios';
import { parse } from 'marked';
import dompurify from 'dompurify';
import ExtensionList from './extension-list.vue';
import type { ExtensionInfo } from '@directus/types';

type Props = {
	name: string;
	app?: boolean;
	existingExtensions?: ExtensionInfo[];
};

type User = {
	id: string;
	name: string;
	email: string;
	url: string;
	avatar?: {
		filename_disk: string;
	};
	trusted: boolean;
	core_contributor: boolean;
	readme: string;
};

const props = withDefaults(defineProps<Props>(), {
	app: false,
});

const api = inject('api') as AxiosInstance;
const user = ref<User | null>(null);

const markdown = computed(() => {
	return dompurify.sanitize(parse(user.value?.readme || ''));
});

const loading = ref(true);

watch(
	() => props.name,
	() => {
		loadUser();
	},
	{ immediate: true }
);

async function loadUser() {
	loading.value = true;

	const response = await api.get(`/items/users/${encodeURIComponent(props.name)}`, {
		params: {
			fields: '*,avatar.filename_disk,author_of.*',
		},
	});

	user.value = response.data.data;
	loading.value = false;
}

const thumbnailRef = ref<HTMLDivElement | null>(null);

function bunnyGame(event: MouseEvent) {
	const thumbnail = thumbnailRef.value;
	const bunny = event.target as HTMLElement;
	if (!thumbnail || !bunny) return;

	bunny.style.opacity = '0';

	const bunnySvg =
		'<svg width="39" height="24" viewBox="0 0 39 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M31.1624 15.1454C30.9815 15.0998 30.8308 15.0542 30.6952 14.9935C30.5949 14.9485 30.5111 14.8953 30.4377 14.8338C30.3889 14.7929 30.368 14.7285 30.374 14.6648C30.4467 13.9016 30.3667 13.2284 30.4389 12.4714C30.7404 9.4025 32.6545 10.3748 34.3728 9.87348C35.3594 9.59332 36.3461 9.04193 36.7066 7.95732C36.7657 7.77977 36.7137 7.58673 36.591 7.44612C35.4655 6.15612 34.2194 5.01628 32.8656 4.03944C28.3266 0.781956 22.4277 -0.570703 17.0104 0.220544C16.8052 0.250519 16.6976 0.479686 16.8097 0.655534C17.4959 1.73175 18.401 2.61248 19.439 3.26073C19.6277 3.37854 19.5519 3.63302 19.3353 3.58408C18.8263 3.46903 18.1722 3.24466 17.557 2.80707C17.4977 2.7649 17.4214 2.75428 17.354 2.78137C17.079 2.89192 16.6818 3.05132 16.3536 3.19413C16.1647 3.27634 16.1263 3.52192 16.2818 3.65777C19.0027 6.0352 22.961 6.39662 26.0605 4.49409C26.2493 4.37819 26.5516 4.61635 26.4908 4.83059C26.3934 5.17377 26.2796 5.64552 26.1585 6.28797C25.3898 10.2077 23.1742 9.90386 20.4311 8.91633C14.9498 6.91383 11.8402 8.62386 9.07556 5.23874C8.88346 5.00353 8.54576 4.92199 8.31726 5.1214C7.74656 5.61948 7.40878 6.34649 7.40878 7.12358C7.40878 8.04399 7.88012 8.83243 8.57875 9.30437C8.66614 9.36341 8.78226 9.33846 8.84748 9.25526C9.01772 9.03806 9.15699 8.8941 9.33041 8.80304C9.52021 8.70339 9.61277 8.97707 9.45254 9.12008C8.86536 9.64414 8.69682 10.2684 8.3131 11.4991C7.71022 13.4286 7.96645 15.4037 5.14797 15.9202C3.65583 15.9962 3.68597 17.0141 3.14338 18.5334C2.51366 20.3671 1.68907 21.1793 0.162958 22.7818C-0.0457653 23.0009 -0.0636637 23.3514 0.165721 23.5484C0.775324 24.0721 1.40401 24.1009 2.04311 23.8357C3.62568 23.1672 4.84652 21.101 5.992 19.764C7.27313 18.2751 10.3478 18.9132 12.6689 17.4547C13.9207 16.6809 14.6729 15.6926 14.4323 14.2121C14.3936 13.9737 14.6643 13.8303 14.7625 14.0508C14.9488 14.4693 15.071 14.9157 15.1218 15.377C15.1351 15.4979 15.2423 15.5874 15.3628 15.5806C17.8741 15.4382 21.1215 18.2303 24.1564 18.9857C24.341 19.0317 24.4722 18.8167 24.3678 18.6565C24.1758 18.3618 24.0126 18.0559 23.8826 17.7434C23.7484 17.4186 23.6467 17.1036 23.5747 16.7995C23.5185 16.5617 23.8632 16.4978 23.9809 16.7116C24.7592 18.1258 26.3147 19.4538 28.4796 19.6121C29.2181 19.6728 30.032 19.5817 30.876 19.3234C31.8859 19.0196 32.8203 18.6245 33.9357 18.8372C34.7646 18.9892 35.5333 19.4146 36.0156 20.1286C36.6924 21.1235 38.121 21.3871 38.8825 20.3473C38.9861 20.2058 38.9948 20.0167 38.9263 19.8549C37.2497 15.8935 32.9923 15.6214 31.1624 15.1454Z" fill="black"/></svg>';

	thumbnail.style.cursor = `url("${'data:image/svg+xml,' + encodeURIComponent(bunnySvg)}") 16 16, pointer`;
}
</script>

<style lang="scss" scoped>
.user {
	display: grid;
	grid-template-columns: 1fr 250px;
	gap: 8px 32px;

	@media (max-width: 800px) {
		grid-template-columns: 1fr;
	}
}

.thumbnail {
	max-width: 1080px;
	overflow: hidden;
	grid-column: span 2;

	svg {
		transform: translate(-20%, 0);
		position: relative;
		left: 20%;
		height: 100%;

		.bunny {
			animation: bunny 1s ease-in-out;
		}
	}
}

.profile {
	display: flex;
	padding: 0 0 0 20px;
	gap: 20px;
	position: relative;
	grid-column: span 2;

	.avatar {
		width: 128px;
		height: 128px;
		border-radius: 50%;
		position: absolute;
		top: -64px;
		background-color: var(--primary);

		display: grid;
		place-items: center;
		overflow: hidden;

		img {
			width: 100%;
		}

		svg {
			width: 34px;
		}
	}

	.info {
		margin-left: 148px;
		margin-top: 12px;

		.name {
			font-size: 20px;
			font-weight: 600;
			margin-bottom: 4px;
		}

		.email {
			display: flex;
			gap: 8px;
			color: var(--foreground-subdued);
		}

		.url {
			color: var(--foreground-subdued);
			text-decoration: none;
		}
	}

	.spacer {
		flex: 1;
	}

	.banners {
		align-self: center;
		display: flex;
		gap: 16px;

		.verified {
			color: var(--green);
		}

		.core-contributor {
			color: var(--red);
		}
	}
}

.markdown {
	grid-column: span 2;
	max-width: min(800px, 100%);
	::v-deep(a) {
		color: var(--primary);
		text-decoration: none;
	}
}

.extensions-title {
	margin-top: 12px;
	font-size: 16px;
	font-weight: 600;
}

:deep(.extensions) {
	max-width: min(800px, 100%);
	grid-column: span 2;

	@media (max-width: 800px) {
		grid-column: span 1;
	}
}
</style>
